<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cabaÃ±a de Toros</title>
    <link rel="stylesheet" href="estilo.css">
    <link rel="stylesheet" href="proyecto app(animales css js)/css/animales.css">
    <link rel="stylesheet" href="proyecto_resultados/resultados.css">
    <link rel="stylesheet" href="estadisticas/estadisticas.css">
    <link rel="stylesheet" href="reportes/reportes.css">
    <link rel="icon" type="image/png" href="imagenes/logo soto.png">

  </head>
  <body>

<!-- Fondo con slideshow -->
<div class="fondo-slideshow"></div>
<div class="overlay"></div>

<div class="contenedor1" id="contenedor1">
    
    <!-- FORMULARIO DE LOGIN -->
    <div id="loginBox">
      <h2>Iniciar SesiÃ³n</h2>
      <form id="loginForm">
        <input type="text" id="usuario" placeholder="Usuario" required>
        <input type="password" id="contraseÃ±a" placeholder="ContraseÃ±a" required>
        <button type="submit">Entrar</button>
      </form>
      <div class="switch">
        Â¿No tienes cuenta? <a href="#" onclick="mostrarRegistro()">RegÃ­strate</a>
      </div>
    </div>

    <!-- FORMULARIO DE REGISTRO -->
    <div id="registerBox" style="display: none;">
      <h2>Registro</h2>
      <form id="registerForm">
        <input type="text" placeholder="Usuario nuevo" required>
        <input type="email" placeholder="Email" required>
        <input type="password" placeholder="ContraseÃ±a" required>
        <input type="password" placeholder="Confirmar contraseÃ±a" required>
        <button type="submit">Registrarse</button>
      </form>
      <div class="switch">
        Â¿Ya tienes cuenta? <a href="#" onclick="mostrarLogin()">Inicia sesiÃ³n</a>
      </div>
    </div>

  </div>

<!--  MENÃš PRINCIPAL (oculto hasta iniciar sesiÃ³n) -->
  <div class="menu" id="menuPrincipal" style="display:none;">
    <h2>MenÃº Principal</h2>
    <ul>
      <li><a href="#" onclick="mostrarAnimales()">ğŸ‚ GestiÃ³n de Animales</a></li>
      <li><a href="#" onclick="mostrarEstadisticas()">ğŸ“ˆ EstadÃ­sticas ğŸ“‰</a></li>
      <li><a href="#" onclick="mostrarResultados()">ğŸ“Š Resultados</a></li>
      <li><a href="#" onclick="mostrarReportes()">ğŸ“‘ Reportes</a></li>
      <li><a href="#" onclick="cerrarSesion()"> Cerrar SesiÃ³n</a></li>
    </ul>
  </div>


<!-- =============================
       GESTIÃ“N DE ANIMALES
       ============================= -->
  <section id="animales" style="display:none;">
    <h2>ğŸ® GestiÃ³n de Animales</h2>
    <!-- Nota: botÃ³n Volver ahora usa id para que app.js lo controle -->
    <button id="volverMenuAnimales">Volver al menÃº</button>

    <!-- Formulario para cargar animales -->
    <form id="animalForm">
      <label>Comprador: <input type="text" id="comprador"></label>
      <label>CategorÃ­a:
        <select id="categoria" required>
          <option value="">-- Seleccionar --</option>
          <option value="Vaquillona angus">Vaquillona angus</option>
          <option value="Vaquillona Hereford">Vaquillona Hereford</option>
          <option value="Toros angus">Toros angus</option>
          <option value="Toros Hereford">Toros Hereford</option>
          <option value="Caballos">caballos</option>
        </select>
      </label>
      <label>CÃ³digo Cat.: <input type="text" id="codigoCategoria" placeholder="Ej: V.H., T.A."></label>
      <label>Corral: <input type="text" id="corral"></label>
      <label>Cantidad: <input type="number" id="cantidad" min="1" value="1" required></label>
      <label>NÃºmeros (Caravanas): <input type="text" id="caravana" placeholder="Ej: 324-235-345"></label>
      <label>Precio por Cabeza: <input type="number" id="precio" step="0.01" required></label>
      <label>Importe en Kg: <input type="number" id="impKg" step="0.01"></label>
      <label>Forma de Pago: <input type="text" id="formaPago"></label>
      <label>CUIT: <input type="text" id="cuit"></label>
      <label>Precio x Combustible: <input type="number" id="precioCombustible" step="0.01"></label>
      <label>Lugar de Entrega: <input type="text" id="lugarEntrega"></label>
      <label>Localidad: <input type="text" id="localidad"></label>
      <button type="submit">â• Agregar Animal</button>
    </form>

    <!-- Tabla de animales -->
    <table id="animalesTable">
      <thead>
        <tr>
          <th>Comprador</th><th>CategorÃ­a</th><th>CÃ³digo Cat.</th><th>Corral</th><th>Cant.</th><th>NÃºmeros</th>
          <th>$ por Cabeza</th><th>Imp.$</th><th>Imp.Kg</th><th>Forma de Pago</th><th>CUIT</th>
          <th>Precio x Combustible</th><th>Lugar de Entrega</th><th>Localidad</th><th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <!-- AquÃ­ se cargan los animales -->
      </tbody>
      <tfoot>
        <tr><td colspan="14">Total $</td><td id="total">$ 0,00</td></tr>
        <tr><td colspan="14">Promedio $</td><td id="promedio">$ 0,00</td></tr>
        <tr><td colspan="14">Cantidad Total de Animales</td><td id="totalCantidad">0</td></tr>
        <tr><td colspan="14">Total Kg</td><td id="totalKg">0</td></tr>
        <tr><td colspan="14">Promedio Kg</td><td id="promedioKg">0</td></tr>
      </tfoot>
    </table>

    <!-- BotÃ³n de guardar gestiÃ³n -->
    <div id="gestionBotones" style="margin-top:10px;">
      <button id="guardarGestion">ğŸ’¾ Guardar GestiÃ³n</button>
      <button id="abrirSeleccionReportes">ğŸ“Š Agregar a Reportes</button>
    </div>

    <!-- Historial de gestiones -->
    <section id="historial">
      <h3>Historial de Gestiones</h3>
      <div id="listaHistorial"></div>
    </section>
  </section>

  <!-- =============================
       RESULTADOS
       ============================= -->
  <div id="resultados" style="display:none;">
    <h2>ğŸ“Š Resultados del Remate</h2>
    <!-- Volver al menÃº desde resultados -->
    <div class="acciones">
    <button id="volverMenuResultados" class="btn">Volver al MenÃº</button>
    </div>

    <table id="tablaResultados">
      <thead>
        <tr>
          <th>Detalle</th>
          <th>Cantidad</th>
          <th>Importe en $</th>
          <th>$ convertidos en Kg</th>
          <th>Promedio $</th>
          <th>Promedio Kg</th>
          <th>Kilos Reales Vendidos</th>
          <th>Precio x Kg</th>
        </tr>
      </thead>
      <tbody></tbody>
      <tfoot></tfoot>
    </table>

    <div id="accionesReportes" style="margin-top:15px; text-align:center;">
     <button id="btnAgregarAReportes">ğŸ“‹ Agregar a Reportes</button>
     <button id="btnConfirmarAgregar" style="display:none;">âœ… Confirmar</button>
     <button id="btnCancelarAgregar" style="display:none;">âŒ Cancelar</button>
    </div>

    
    <!-- Historial de gestiones -->
  <h3>ğŸ“œ Historial de Gestiones</h3>
  <div id="historialGestiones"></div>
   
  </div>

<!-- =============================
     SECCIÃ“N: EstadÃ­sticas
     ============================= -->
<div id="estadisticas" style="display:none;">
  <h2>ğŸ“ˆ EstadÃ­sticas ğŸ“‰</h2>

  <!-- BotÃ³n volver debajo del tÃ­tulo -->
  <div class="acciones">
    <button id="volverMenuEstadisticas" class="btn volver-btn" type="button">â¬… Volver al MenÃº</button>
  </div>

  <!-- Filtros arriba -->
  <div class="estadisticas-top">
    <div class="filtros">
      <label>AÃ±o:
        <select id="filtroAno"></select>
      </label>
      <label>Mes:
        <select id="filtroMes"><option value="">Todos</option></select>
      </label>
      <button id="btnAplicar" type="button" class="btn">Aplicar</button>
    </div>

    <div class="filtros">
      <label>Desde:
        <select id="filtroMesDesde"><option value="">Mes inicio</option></select>
      </label>
      <label>Hasta:
        <select id="filtroMesHasta"><option value="">Mes fin</option></select>
      </label>
      <button id="btnAplicarRango" type="button" class="btn">Aplicar Rango</button>
    </div>
  </div>

  <div class="estadisticas-grid">
    <!-- Ranking -->
    <div class="card card-ranking">
      <div class="ranking-header">
        <button id="rankingPrev" class="nav-btn">â¬…</button>
        <h3 id="rankingTitulo">ğŸ† Ranking - Septiembre 2025</h3>
        <button id="rankingNext" class="nav-btn">â¡</button>
      </div>

      <div class="ranking-wrap" id="rankingScroll">
        <table id="tablaRanking" class="tabla-ranking">
          <thead>
            <tr>
              <th>#</th>
              <th>Comprador</th>
              <th>Toros Angus</th>
              <th>Toros Hereford</th>
              <th>Vaq. Angus</th>
              <th>Vaq. Hereford</th>
              <th>Caballos</th>
              <th>Total Anim.</th>
              <th>Total $</th>
            </tr>
          </thead>
          <tbody>
            <tr><td colspan="9">No hay datos aÃºn.</td></tr>
          </tbody>
        </table>

        <!-- Animales mÃ¡s vendidos: dentro del mismo card-ranking -->
        <div class="card card-top-animales" style="margin-top:12px; padding:10px;">
          <h4 style="margin:0 0 8px 0;">ğŸ‚ Animales mÃ¡s vendidos</h4>
          <div class="top-animales-wrap" style="max-height:180px; overflow:auto;">
            <table id="tablaAnimalesMasVendidos" class="tabla-top-animales" style="width:100%; border-collapse:collapse;">
              <thead>
                <tr>
                  <th style="text-align:left; padding:6px 8px;">#</th>
                  <th style="text-align:left; padding:6px 8px;">Animal</th>
                  <th style="text-align:left; padding:6px 8px;">Total Vendidos</th>
                </tr>
              </thead>
              <tbody>
                <tr><td colspan="3" style="padding:8px; color:#666;">No hay datos aÃºn.</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- GrÃ¡ficos -->
    <div class="right-column">
      <div class="card">
        <div class="ventas-header">
          <button id="ventasPrev" class="nav-btn">â¬…</button>
          <h3 id="ventasTitulo">ğŸ“Š Ventas por Mes y AÃ±o - 2025</h3>
          <button id="ventasNext" class="nav-btn">â¡</button>
        </div>
        <div class="chart-wrap"><canvas id="graficoVentas"></canvas></div>
        <div id="resumenVentas" class="resumen-ventas"></div>
      </div>

      <div class="card">
        <div class="dinero-header">
          <button id="dineroPrev" class="nav-btn">â¬…</button>
          <h3 id="dineroTitulo">ğŸ’° Dinero Acumulado - 2025</h3>
          <button id="dineroNext" class="nav-btn">â¡</button>
        </div>
        <div class="chart-wrap"><canvas id="graficoDinero"></canvas></div>
        <div id="resumenDinero" class="resumen-dinero"></div>
      </div>
    </div>
  </div>
</div>

<!-- =============================
     SECCIÃ“N: Reportes
     ============================= -->
<div id="reportes" style="display:none;">
  <h2>ğŸ“‘ Reportes</h2>

  <!-- BotÃ³n volver -->
  <div class="acciones">
    <button id="volverMenuReportes" class="btn volver-btn" type="button">â¬… Volver al MenÃº</button>
  </div>

  <!-- Panel de exportaciÃ³n -->
  <div class="reportes-top">
    <button id="btnExportPdf" class="btn export-btn">ğŸ“„ Exportar PDF</button>
  </div>
 <!-- ======== PANEL DE EDICIÃ“N (MINI WORD) ======== -->
  <div class="miniword-toolbar">
    <button onclick="document.execCommand('bold', false, '');"><b>B</b></button>
    <button onclick="document.execCommand('italic', false, '');"><i>I</i></button>
    <button onclick="document.execCommand('underline', false, '');"><u>U</u></button>
    <button onclick="document.execCommand('justifyLeft', false, '');">â¯‡</button>
    <button onclick="document.execCommand('justifyCenter', false, '');">â‰¡</button>
    <button onclick="document.execCommand('justifyRight', false, '');">â¯ˆ</button>
    <select id="fontSizeSelect" onchange="document.execCommand('fontSize', false, this.value)">
      <option value="3">TamaÃ±o</option>
      <option value="1">PequeÃ±o</option>
      <option value="3">Normal</option>
      <option value="5">Grande</option>
      <option value="7">Muy grande</option>
    </select>
  </div>
  <!-- =============================================== -->
  <!-- Contenedor tipo hoja -->
  <div class="reportes-hoja-wrap">
    <div id="reportesHoja" class="reportes-hoja">
      <!-- Contenedores internos para orden -->
      <div class="reportes-tabla">
        <p>AquÃ­ aparecerÃ¡ la tabla de resultados.</p>
      </div>
      <div class="reportes-gestiones">
        <p style="color:#666;">AquÃ­ aparecerÃ¡n las gestiones agregadas.</p>
      </div>
    </div>
  </div>
</div>




  <!-- =============================
       SCRIPTS - orden: animales -> resultados -> app
       ============================= -->
<script src="proyecto app(animales css js)/js/animales.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="proyecto_resultados/resultados.js"></script>
<script src="estadisticas/estadisticas.js"></script>
<script src="reportes/reportes.js"></script>
<script src="app.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  </body>
</html>